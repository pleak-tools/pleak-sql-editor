<html>
  <head>
    <script type="text/javascript" src="lib/d3/d3.v3.min.js"></script>
    <script type="text/javascript" src="lib/jQuery/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="lib/jQuery/jquery.tipsy.min.js"></script>
    <script type="text/javascript" src="lib/jQuery/jquery.contextMenu.min.js"></script>
    <script type="text/javascript" src="lib/dagre/dagre.min.js"></script>
    <script type="text/javascript" src="lib/graphlib-dot/graphlib-dot.min.js"></script>

    <script type="text/javascript" src="js/Minimap.js"></script>
    <script type="text/javascript" src="js/MinimapZoom.js"></script>
    <script type="text/javascript" src="js/DirectedAcyclicGraph.js"></script>
    <script type="text/javascript" src="js/List.js"></script>
    <script type="text/javascript" src="js/Selectable.js"></script>
    <script type="text/javascript" src="js/Graph.js"></script>
    <script type="text/javascript" src="js/History.js"></script>
    <script type="text/javascript" src="js/Tooltip.js"></script>
    <script type="text/javascript" src="js/ContextMenu.js"></script>
    <script type="text/javascript" src="js/xtrace_utils.js"></script>
    <script type="text/javascript" src="js/xtrace_graph.js"></script>
    <link href="stylesheets/xtrace.css" rel="stylesheet" type="text/css">
    <script>
      var dotPath = window.location.pathname.split('/graph/')[1]
      if(dotPath[dotPath.length - 1] == '/')
        dotPath = dotPath.substring(0, dotPath.length - 1);

      $.get("http://localhost:3000/leaks-when/data/" + dotPath + ".dot", function( graph ) {
        new XTraceDAG(document.body, graphlibDot.read(graph).setGraph({ranksep: 100, marginx: 50, marginy: 50}));
      }).fail(function() {
        alert("graph cannot be found");
      });
    </script>
  </head>
  <body width="100%" height="100%" style="margin: 0">
  </body>
</html>